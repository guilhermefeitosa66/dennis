[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for com.manning.siia:domain:jar:1.0-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-file:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 87, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-stream:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 117, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework:spring-core:jar -> duplicate declaration of version ${spring.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 142, column 25
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 248, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for com.manning.siia:integration:jar:1.0-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-file:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 87, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-stream:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 117, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework:spring-core:jar -> duplicate declaration of version ${spring.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 142, column 25
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 248, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for com.manning.siia:flight-booking:pom:1.0-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-file:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 87, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.integration:spring-integration-stream:jar -> duplicate declaration of version ${spring.integration.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 117, column 25
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework:spring-core:jar -> duplicate declaration of version ${spring.version} @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 142, column 25
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ com.manning.siia:siia-parent:1.0-SNAPSHOT, /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/pom.xml, line 248, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] flight-booking
[INFO] domain
[INFO] integration
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building flight-booking 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building domain 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ domain ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ domain ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ domain ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/flight-booking/domain/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ domain ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ domain ---
[INFO] Surefire report directory: /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/flight-booking/domain/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running siia.booking.domain.trip.LegQuoteMarshallingTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.219 sec
Running siia.booking.domain.trip.LegMarshallingTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building integration 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ integration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 13 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ integration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ integration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ integration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ integration ---
[INFO] Surefire report directory: /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/flight-booking/integration/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running siia.booking.integration.FlightNotificationsSpelTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
MethodInvokingSplitter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {chain} as a subscriber to the 'flightNotifications' channel
DirectChannel: Channel 'flightNotifications' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {outbound-channel-adapter:smsNotifier} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 1 subscriber(s).
EventDrivenConsumer: started smsNotifier
EventDrivenConsumer: Adding {bridge} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 2 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
DirectChannel: preSend on channel 'flightNotifications', message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={id=775ae973-aa18-41d2-96d4-162be5f093b3, timestamp=1488546813176}]
MessageHandlerChain: org.springframework.integration.handler.MessageHandlerChain#0 received message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={id=775ae973-aa18-41d2-96d4-162be5f093b3, timestamp=1488546813176}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler#2641e737 received message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={id=775ae973-aa18-41d2-96d4-162be5f093b3, timestamp=1488546813176}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler#2641e737' sending reply Message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], id=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, timestamp=1488546813182}]
MethodInvokingSplitter: org.springframework.integration.splitter.MethodInvokingSplitter@35d019a3 received message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], id=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, timestamp=1488546813182}]
MethodInvokingSplitter: handler 'org.springframework.integration.splitter.MethodInvokingSplitter@35d019a3' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
MethodInvokingSplitter: handler 'org.springframework.integration.splitter.MethodInvokingSplitter@35d019a3' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@1a18644][Headers={sequenceNumber=1, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=9b67e26e-5ab9-406d-bd1b-a57a39ddcfff, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813184}]
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@6cd28fa7][Headers={sequenceNumber=2, correlationId=2bd3f0b0-93f3-4ca5-a8ec-b7b4a20a0be1, id=24764a8d-9204-4d1a-970e-a891f7a30540, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005], timestamp=1488546813186}]
DirectChannel: postSend (sent=true) on channel 'flightNotifications', message: [Payload=siia.booking.domain.notifications.FlightNotification@47987356][Headers={id=775ae973-aa18-41d2-96d4-162be5f093b3, timestamp=1488546813176}]
QueueChannel: postReceive on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 63387985][Headers={id=f08ad46d-a7cb-4c30-8648-f9af2c357cdc, timestamp=1488546813151}]
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.793 sec <<< FAILURE!
shouldEnrichHeaderAndSendMessageForRelatedTrips(siia.booking.integration.FlightNotificationsSpelTest)  Time elapsed: 0.02 sec  <<< FAILURE!
java.lang.AssertionError: 
Expected: is <[Mock for Trip, hashCode: 997055773, Mock for Trip, hashCode: 1063980005]>
     got: null

	at org.junit.Assert.assertThat(Assert.java:778)
	at org.junit.Assert.assertThat(Assert.java:736)
	at siia.booking.integration.FlightNotificationsSpelTest.shouldEnrichHeaderAndSendMessageForRelatedTrips(FlightNotificationsSpelTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

Running siia.booking.integration.CancellationsWithExceptionTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
GatewayProxyFactoryBean$MethodInvocationGateway: started cancellationsGateway
GatewayProxyFactoryBean: started cancellationsGateway
MessageFilter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
ServiceActivatingHandler: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 1 subscriber(s).
EventDrivenConsumer: started cancellationsFilter
EventDrivenConsumer: Adding {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 1 subscriber(s).
EventDrivenConsumer: started goldCancellationsProcessor
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@48bb62][Headers={id=fc6bcbc9-6792-4978-b4df-38745a5f8a19, timestamp=1488546813300}]
MessageFilter: org.springframework.integration.filter.MessageFilter@16eb3ea3 received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@48bb62][Headers={id=fc6bcbc9-6792-4978-b4df-38745a5f8a19, timestamp=1488546813300}]
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
MessageFilter: org.springframework.integration.filter.MessageFilter@16eb3ea3 received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@16eb3ea3' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
DirectChannel: preSend on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
ServiceActivatingHandler: ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@4681c175] received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
ServiceActivatingHandler: handler 'ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@4681c175]' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@57a78e3][Headers={id=d31009e7-d88a-4014-af53-8bc262e4d38f, timestamp=1488546813302}]
QueueChannel: preSend on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@57a78e3][Headers={id=d31009e7-d88a-4014-af53-8bc262e4d38f, timestamp=1488546813302}]
QueueChannel: postSend (sent=true) on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@57a78e3][Headers={id=d31009e7-d88a-4014-af53-8bc262e4d38f, timestamp=1488546813302}]
DirectChannel: postSend (sent=true) on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
DirectChannel: postSend (sent=true) on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@353352b6][Headers={id=0d4a09bb-61b7-438c-abfa-8ead9d90d026, timestamp=1488546813301}]
QueueChannel: postReceive on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@57a78e3][Headers={id=d31009e7-d88a-4014-af53-8bc262e4d38f, timestamp=1488546813302}]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.107 sec
Running siia.booking.integration.notifications.FlightToTripNotificationsSplitterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running siia.booking.integration.LegQuoteIntegrationTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
XPathRouter: Channel mappings:{} replaced with:{flightQuote=flightQuoteChannel, carQuote=carQuoteChannel, hotelQuote=hotelQuoteChannel}
EventDrivenConsumer: Adding {} as a subscriber to the 'javaLegQuoteCommands' channel
DirectChannel: Channel 'javaLegQuoteCommands' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {xml:xslt-transformer} as a subscriber to the 'xmlLegQuotes' channel
DirectChannel: Channel 'xmlLegQuotes' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Adding {xml:xpath-splitter} as a subscriber to the 'xslTransformedLegQuote' channel
DirectChannel: Channel 'xslTransformedLegQuote' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#2
EventDrivenConsumer: Adding {xml:xpath-router:quoteRequestRouter} as a subscriber to the 'splitQuotes' channel
DirectChannel: Channel 'splitQuotes' has 1 subscriber(s).
EventDrivenConsumer: started quoteRequestRouter
EventDrivenConsumer: Adding {filter:flightQuoteValidator} as a subscriber to the 'flightQuoteChannel' channel
DirectChannel: Channel 'flightQuoteChannel' has 1 subscriber(s).
EventDrivenConsumer: started flightQuoteValidator
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'javaLegQuoteCommands', message: [Payload=siia.booking.domain.trip.LegQuoteCommand@3561c410][Headers={id=86ba9c7c-a0d0-410f-bc61-948389f1b509, timestamp=1488546813591}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler#0 received message: [Payload=siia.booking.domain.trip.LegQuoteCommand@3561c410][Headers={id=86ba9c7c-a0d0-410f-bc61-948389f1b509, timestamp=1488546813591}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler#0' sending reply Message: [Payload=[#document: null]][Headers={id=a3950692-16f7-45f3-a2d2-a5f0950e39a3, timestamp=1488546813601}]
DirectChannel: preSend on channel 'xmlLegQuotes', message: [Payload=[#document: null]][Headers={id=a3950692-16f7-45f3-a2d2-a5f0950e39a3, timestamp=1488546813601}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler#1 received message: [Payload=[#document: null]][Headers={id=a3950692-16f7-45f3-a2d2-a5f0950e39a3, timestamp=1488546813601}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler#1' sending reply Message: [Payload=[#document: null]][Headers={id=c20568c9-8ad9-4beb-be93-2051f001392f, timestamp=1488546813611}]
DirectChannel: preSend on channel 'xslTransformedLegQuote', message: [Payload=[#document: null]][Headers={id=c20568c9-8ad9-4beb-be93-2051f001392f, timestamp=1488546813611}]
XPathMessageSplitter: org.springframework.integration.xml.splitter.XPathMessageSplitter#0 received message: [Payload=[#document: null]][Headers={id=c20568c9-8ad9-4beb-be93-2051f001392f, timestamp=1488546813611}]
XPathMessageSplitter: handler 'org.springframework.integration.xml.splitter.XPathMessageSplitter#0' sending reply Message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
DirectChannel: preSend on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
XPathRouter: (inner bean)#1 received message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
DirectChannel: preSend on channel 'flightQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
MessageFilter: org.springframework.integration.filter.MessageFilter@4e423aa2 received message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@4e423aa2' sending reply Message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
QueueChannel: preSend on channel 'validFlightQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
QueueChannel: postSend (sent=true) on channel 'validFlightQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
DirectChannel: postSend (sent=true) on channel 'flightQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
DirectChannel: postSend (sent=true) on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
XPathMessageSplitter: handler 'org.springframework.integration.xml.splitter.XPathMessageSplitter#0' sending reply Message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
DirectChannel: preSend on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
XPathRouter: (inner bean)#1 received message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
QueueChannel: preSend on channel 'hotelQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
QueueChannel: postSend (sent=true) on channel 'hotelQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
DirectChannel: postSend (sent=true) on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
XPathMessageSplitter: handler 'org.springframework.integration.xml.splitter.XPathMessageSplitter#0' sending reply Message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
DirectChannel: preSend on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
XPathRouter: (inner bean)#1 received message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
QueueChannel: preSend on channel 'carQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
QueueChannel: postSend (sent=true) on channel 'carQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
DirectChannel: postSend (sent=true) on channel 'splitQuotes', message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
DirectChannel: postSend (sent=true) on channel 'xslTransformedLegQuote', message: [Payload=[#document: null]][Headers={id=c20568c9-8ad9-4beb-be93-2051f001392f, timestamp=1488546813611}]
DirectChannel: postSend (sent=true) on channel 'xmlLegQuotes', message: [Payload=[#document: null]][Headers={id=a3950692-16f7-45f3-a2d2-a5f0950e39a3, timestamp=1488546813601}]
DirectChannel: postSend (sent=true) on channel 'javaLegQuoteCommands', message: [Payload=siia.booking.domain.trip.LegQuoteCommand@3561c410][Headers={id=86ba9c7c-a0d0-410f-bc61-948389f1b509, timestamp=1488546813591}]
QueueChannel: postReceive on channel 'carQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=3, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=bad56b57-bab2-4efd-a710-834d96613fc2, sequenceSize=3, timestamp=1488546813623}]
<?xml version="1.0" encoding="UTF-8" standalone="no"?><carQuote><carType>Compact</carType><startOfLegDate>2010-01-03T00:00:00Z</startOfLegDate><endOfLegDate>2010-01-07T00:00:00Z</endOfLegDate><startLocation city="London" countryCode="UK"/><endLocation city="Buenos Aires" countryCode="AR"/></carQuote>
QueueChannel: postReceive on channel 'validFlightQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
[Payload=[#document: null]][Headers={sequenceNumber=1, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=208bc85e-28d8-413b-909b-e91ffd095454, sequenceSize=3, timestamp=1488546813617}]
<?xml version="1.0" encoding="UTF-8" standalone="no"?><flightQuote><requiredSeatClass>Business</requiredSeatClass><returnRequired>true</returnRequired><startOfLegDate>2010-01-03T00:00:00Z</startOfLegDate><endOfLegDate>2010-01-07T00:00:00Z</endOfLegDate><startLocation city="London" countryCode="UK"/><endLocation city="Buenos Aires" countryCode="AR"/></flightQuote>
QueueChannel: postReceive on channel 'hotelQuoteChannel', message: [Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
[Payload=[#document: null]][Headers={sequenceNumber=2, correlationId=c20568c9-8ad9-4beb-be93-2051f001392f, id=95122888-8535-48ad-b4db-81acf9a82865, sequenceSize=3, timestamp=1488546813622}]
<?xml version="1.0" encoding="UTF-8" standalone="no"?><hotelQuote><roomType>Double</roomType><smokingRoom>false</smokingRoom><startOfLegDate>2010-01-03T00:00:00Z</startOfLegDate><endOfLegDate>2010-01-07T00:00:00Z</endOfLegDate><startLocation city="London" countryCode="UK"/><endLocation city="Buenos Aires" countryCode="AR"/></hotelQuote>
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.361 sec
Running siia.booking.integration.CancellationsTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
GatewayProxyFactoryBean$MethodInvocationGateway: started cancellationsGateway
GatewayProxyFactoryBean: started cancellationsGateway
MessageFilter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
ServiceActivatingHandler: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 1 subscriber(s).
EventDrivenConsumer: started cancellationsFilter
EventDrivenConsumer: Adding {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 1 subscriber(s).
EventDrivenConsumer: started goldCancellationsProcessor
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
MessageFilter: org.springframework.integration.filter.MessageFilter@62010f5c received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
QueueChannel: preSend on channel 'rejected', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
QueueChannel: postSend (sent=true) on channel 'rejected', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@62010f5c' produced no reply for request Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
DirectChannel: postSend (sent=true) on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
QueueChannel: postReceive on channel 'rejected', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@5c44c582][Headers={id=c1215017-0dbf-4d58-a356-8cb2a6a0c159, timestamp=1488546813729}]
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
MessageFilter: org.springframework.integration.filter.MessageFilter@62010f5c received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@62010f5c' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
DirectChannel: preSend on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
ServiceActivatingHandler: ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@2c78d320] received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
ServiceActivatingHandler: handler 'ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@2c78d320]' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@132e0cc][Headers={id=f8a79d82-f9ba-4fb2-8bdb-a9dfad141814, timestamp=1488546813732}]
QueueChannel: preSend on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@132e0cc][Headers={id=f8a79d82-f9ba-4fb2-8bdb-a9dfad141814, timestamp=1488546813732}]
QueueChannel: postSend (sent=true) on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@132e0cc][Headers={id=f8a79d82-f9ba-4fb2-8bdb-a9dfad141814, timestamp=1488546813732}]
DirectChannel: postSend (sent=true) on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
DirectChannel: postSend (sent=true) on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@67d18ed7][Headers={id=efb71379-0061-420d-bcc2-dfbe2a4a0cd4, timestamp=1488546813731}]
QueueChannel: postReceive on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@132e0cc][Headers={id=f8a79d82-f9ba-4fb2-8bdb-a9dfad141814, timestamp=1488546813732}]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec
Running siia.booking.integration.PaymentRoutingTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
MethodInvokingRouter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
ExpressionEvaluatingRouter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {router} as a subscriber to the 'payments' channel
DirectChannel: Channel 'payments' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {router} as a subscriber to the 'credit-card-payments' channel
DirectChannel: Channel 'credit-card-payments' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'payments', message: [Payload=siia.booking.domain.payment.Invoice@7ae42ce3][Headers={id=a02f6791-acd7-4ae4-99fc-37ae2b32ff0d, timestamp=1488546813778}]
MethodInvokingRouter: org.springframework.integration.router.MethodInvokingRouter@764faa6 received message: [Payload=siia.booking.domain.payment.Invoice@7ae42ce3][Headers={id=a02f6791-acd7-4ae4-99fc-37ae2b32ff0d, timestamp=1488546813778}]
QueueChannel: preSend on channel 'invoices', message: [Payload=siia.booking.domain.payment.Invoice@7ae42ce3][Headers={id=a02f6791-acd7-4ae4-99fc-37ae2b32ff0d, timestamp=1488546813778}]
QueueChannel: postSend (sent=true) on channel 'invoices', message: [Payload=siia.booking.domain.payment.Invoice@7ae42ce3][Headers={id=a02f6791-acd7-4ae4-99fc-37ae2b32ff0d, timestamp=1488546813778}]
DirectChannel: postSend (sent=true) on channel 'payments', message: [Payload=siia.booking.domain.payment.Invoice@7ae42ce3][Headers={id=a02f6791-acd7-4ae4-99fc-37ae2b32ff0d, timestamp=1488546813778}]
DirectChannel: preSend on channel 'payments', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
MethodInvokingRouter: org.springframework.integration.router.MethodInvokingRouter@764faa6 received message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
DirectChannel: preSend on channel 'credit-card-payments', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
ExpressionEvaluatingRouter: org.springframework.integration.router.ExpressionEvaluatingRouter@4c1f22f3 received message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
ExpressionEvaluatingRouter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
QueueChannel: preSend on channel 'MASTERCARD', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
QueueChannel: postSend (sent=true) on channel 'MASTERCARD', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
DirectChannel: postSend (sent=true) on channel 'credit-card-payments', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
DirectChannel: postSend (sent=true) on channel 'payments', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
QueueChannel: postReceive on channel 'MASTERCARD', message: [Payload=siia.booking.domain.payment.CreditCardPayment@484094a5][Headers={id=4a1aef71-38de-4a69-b660-8a531e491a78, timestamp=1488546813781}]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.05 sec
Running siia.booking.integration.FlightNotificationsTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
MethodInvokingSplitter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {chain} as a subscriber to the 'flightNotifications' channel
DirectChannel: Channel 'flightNotifications' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {outbound-channel-adapter:smsNotifier} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 1 subscriber(s).
EventDrivenConsumer: started smsNotifier
EventDrivenConsumer: Adding {bridge} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 2 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
DirectChannel: preSend on channel 'flightNotifications', message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={id=0d3c57c7-0fd3-44c8-85b7-2f290c8e61ff, timestamp=1488546813875}]
MessageHandlerChain: org.springframework.integration.handler.MessageHandlerChain#0 received message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={id=0d3c57c7-0fd3-44c8-85b7-2f290c8e61ff, timestamp=1488546813875}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler#6eb2384f received message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={id=0d3c57c7-0fd3-44c8-85b7-2f290c8e61ff, timestamp=1488546813875}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler#6eb2384f' sending reply Message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], id=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, timestamp=1488546813876}]
MethodInvokingSplitter: org.springframework.integration.splitter.MethodInvokingSplitter@344f4dea received message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], id=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, timestamp=1488546813876}]
MethodInvokingSplitter: handler 'org.springframework.integration.splitter.MethodInvokingSplitter@344f4dea' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@16fdec90][Headers={sequenceNumber=1, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=52c1dc8b-f0e8-49b4-b02b-156028cf0c57, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813878}]
MethodInvokingSplitter: handler 'org.springframework.integration.splitter.MethodInvokingSplitter@344f4dea' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
PublishSubscribeChannel: preSend on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
MethodInvokingMessageHandler: org.springframework.integration.handler.MethodInvokingMessageHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
BridgeHandler: org.springframework.integration.handler.BridgeHandler#0 received message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
BridgeHandler: handler 'org.springframework.integration.handler.BridgeHandler#0' sending reply Message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
QueueChannel: preSend on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
QueueChannel: postSend (sent=true) on channel 'interceptedTripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
PublishSubscribeChannel: postSend (sent=true) on channel 'tripNotifications', message: [Payload=siia.booking.domain.notifications.TripNotification@7776ab][Headers={sequenceNumber=2, correlationId=8bd5d6e0-06d5-4ecd-be14-c31a8d656e6a, id=f77e7196-947e-4d5c-bad4-a0ae61580d13, sequenceSize=2, affectedTrips=[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146], timestamp=1488546813882}]
DirectChannel: postSend (sent=true) on channel 'flightNotifications', message: [Payload=siia.booking.domain.notifications.FlightNotification@460ebd80][Headers={id=0d3c57c7-0fd3-44c8-85b7-2f290c8e61ff, timestamp=1488546813875}]
QueueChannel: postReceive on channel 'interceptedTripNotifications', message: [Payload=Mock for TripNotification, hashCode: 1394557075][Headers={id=ed060cf9-b17c-4e76-a7d3-4df1fb8cc869, timestamp=1488546813863}]
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.102 sec <<< FAILURE!
shouldEnrichHeaderAndSendMessageForRelatedTrips(siia.booking.integration.FlightNotificationsTest)  Time elapsed: 0.01 sec  <<< FAILURE!
java.lang.AssertionError: 
Expected: is <[Mock for Trip, hashCode: 1866229258, Mock for Trip, hashCode: 1962266146]>
     got: null

	at org.junit.Assert.assertThat(Assert.java:778)
	at org.junit.Assert.assertThat(Assert.java:736)
	at siia.booking.integration.FlightNotificationsTest.shouldEnrichHeaderAndSendMessageForRelatedTrips(FlightNotificationsTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

Running siia.booking.integration.CancellationsWithNotificationTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
ChannelInitializer: Auto-creating channel 'mailTransformer' as DirectChannel
GatewayProxyFactoryBean$MethodInvocationGateway: started cancellationsGateway
GatewayProxyFactoryBean: started cancellationsGateway
MessageFilter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
ServiceActivatingHandler: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 1 subscriber(s).
EventDrivenConsumer: started cancellationsFilter
EventDrivenConsumer: Adding {transformer} as a subscriber to the 'rejected' channel
DirectChannel: Channel 'rejected' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {transformer} as a subscriber to the 'mailTransformer' channel
DirectChannel: Channel 'mailTransformer' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Adding {message-handler:rejectionMail.adapter} as a subscriber to the 'rejectionMail' channel
DirectChannel: Channel 'rejectionMail' has 1 subscriber(s).
EventDrivenConsumer: started rejectionMail.adapter
EventDrivenConsumer: Adding {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 1 subscriber(s).
EventDrivenConsumer: started goldCancellationsProcessor
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
MessageFilter: org.springframework.integration.filter.MessageFilter@2d96543c received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@2d96543c' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
DirectChannel: preSend on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
ServiceActivatingHandler: ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@69653e16] received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
ServiceActivatingHandler: handler 'ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@69653e16]' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@758705fa][Headers={id=b7005289-97ef-4a7e-871c-5190a346f648, timestamp=1488546813974}]
QueueChannel: preSend on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@758705fa][Headers={id=b7005289-97ef-4a7e-871c-5190a346f648, timestamp=1488546813974}]
QueueChannel: postSend (sent=true) on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@758705fa][Headers={id=b7005289-97ef-4a7e-871c-5190a346f648, timestamp=1488546813974}]
DirectChannel: postSend (sent=true) on channel 'validated', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
DirectChannel: postSend (sent=true) on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@6b8d96d9][Headers={id=c759d0c4-89ee-447a-b389-1e9ac920c431, timestamp=1488546813974}]
QueueChannel: postReceive on channel 'confirmed', message: [Payload=siia.booking.domain.cancellation.CancellationConfirmation@758705fa][Headers={id=b7005289-97ef-4a7e-871c-5190a346f648, timestamp=1488546813974}]
DirectChannel: preSend on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
MessageFilter: org.springframework.integration.filter.MessageFilter@2d96543c received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
DirectChannel: preSend on channel 'rejected', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler#0 received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler#0' sending reply Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={mail_to=test@example.com, id=e4bd04d5-01f4-408f-95c6-0a7f222b8b47, timestamp=1488546813976}]
DirectChannel: preSend on channel 'mailTransformer', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={mail_to=test@example.com, id=e4bd04d5-01f4-408f-95c6-0a7f222b8b47, timestamp=1488546813976}]
MessageTransformingHandler: org.springframework.integration.transformer.MessageTransformingHandler@7d64e326 received message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={mail_to=test@example.com, id=e4bd04d5-01f4-408f-95c6-0a7f222b8b47, timestamp=1488546813976}]
MessageTransformingHandler: handler 'org.springframework.integration.transformer.MessageTransformingHandler@7d64e326' sending reply Message: [Payload=BRONZE123 has been rejected][Headers={mail_to=test@example.com, id=1adb78f2-ccc7-4dfe-a61c-51e06d4a788a, timestamp=1488546813976}]
DirectChannel: preSend on channel 'rejectionMail', message: [Payload=BRONZE123 has been rejected][Headers={mail_to=test@example.com, id=1adb78f2-ccc7-4dfe-a61c-51e06d4a788a, timestamp=1488546813976}]
MailSendingMessageHandler: org.springframework.integration.mail.MailSendingMessageHandler#0 received message: [Payload=BRONZE123 has been rejected][Headers={mail_to=test@example.com, id=1adb78f2-ccc7-4dfe-a61c-51e06d4a788a, timestamp=1488546813976}]
DirectChannel: postSend (sent=true) on channel 'rejectionMail', message: [Payload=BRONZE123 has been rejected][Headers={mail_to=test@example.com, id=1adb78f2-ccc7-4dfe-a61c-51e06d4a788a, timestamp=1488546813976}]
DirectChannel: postSend (sent=true) on channel 'mailTransformer', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={mail_to=test@example.com, id=e4bd04d5-01f4-408f-95c6-0a7f222b8b47, timestamp=1488546813976}]
DirectChannel: postSend (sent=true) on channel 'rejected', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
MessageFilter: handler 'org.springframework.integration.filter.MessageFilter@2d96543c' produced no reply for request Message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
DirectChannel: postSend (sent=true) on channel 'input', message: [Payload=siia.booking.domain.cancellation.CancellationRequest@ebaa6cb][Headers={id=3e41e89b-2c89-47bc-8df6-bb500ecb76b1, timestamp=1488546813975}]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.098 sec
Running siia.booking.integration.TripCommandsTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
ExpressionEvaluatingSplitter: Unable to attempt conversion of Message payload types. Component 'null' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {splitter:tripCommandSplitter} as a subscriber to the 'tripCommands' channel
DirectChannel: Channel 'tripCommands' has 1 subscriber(s).
EventDrivenConsumer: started tripCommandSplitter
EventDrivenConsumer: Adding {aggregator:legQuoteAggregator} as a subscriber to the 'legQuotes' channel
DirectChannel: Channel 'legQuotes' has 1 subscriber(s).
EventDrivenConsumer: started legQuoteAggregator
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'legQuotes', message: [Payload=Mock for Leg, hashCode: 1760219993][Headers={sequenceNumber=1, correlationId=wouldBeSetBySplitter, id=e1feec84-7027-4990-963b-9a3e59c01685, sequenceSize=2, timestamp=1488546814074}]
AggregatingMessageHandler: org.springframework.integration.aggregator.AggregatingMessageHandler#0 received message: [Payload=Mock for Leg, hashCode: 1760219993][Headers={sequenceNumber=1, correlationId=wouldBeSetBySplitter, id=e1feec84-7027-4990-963b-9a3e59c01685, sequenceSize=2, timestamp=1488546814074}]
AbstractCorrelatingMessageHandler: Handling message with correlationKey [wouldBeSetBySplitter]: [Payload=Mock for Leg, hashCode: 1760219993][Headers={sequenceNumber=1, correlationId=wouldBeSetBySplitter, id=e1feec84-7027-4990-963b-9a3e59c01685, sequenceSize=2, timestamp=1488546814074}]
DirectChannel: postSend (sent=true) on channel 'legQuotes', message: [Payload=Mock for Leg, hashCode: 1760219993][Headers={sequenceNumber=1, correlationId=wouldBeSetBySplitter, id=e1feec84-7027-4990-963b-9a3e59c01685, sequenceSize=2, timestamp=1488546814074}]
DirectChannel: preSend on channel 'legQuotes', message: [Payload=Mock for Leg, hashCode: 1112456099][Headers={sequenceNumber=2, correlationId=wouldBeSetBySplitter, id=be11a65b-829e-48d6-bcfd-88f046441057, sequenceSize=2, timestamp=1488546814074}]
AggregatingMessageHandler: org.springframework.integration.aggregator.AggregatingMessageHandler#0 received message: [Payload=Mock for Leg, hashCode: 1112456099][Headers={sequenceNumber=2, correlationId=wouldBeSetBySplitter, id=be11a65b-829e-48d6-bcfd-88f046441057, sequenceSize=2, timestamp=1488546814074}]
AbstractCorrelatingMessageHandler: Handling message with correlationKey [wouldBeSetBySplitter]: [Payload=Mock for Leg, hashCode: 1112456099][Headers={sequenceNumber=2, correlationId=wouldBeSetBySplitter, id=be11a65b-829e-48d6-bcfd-88f046441057, sequenceSize=2, timestamp=1488546814074}]
AbstractCorrelatingMessageHandler: Completing group with correlationKey [wouldBeSetBySplitter]
QueueChannel: preSend on channel 'tripQuotes', message: [Payload=siia.booking.domain.trip.Trip@7a560583][Headers={correlationId=wouldBeSetBySplitter, id=d6718d56-e803-4f01-bd22-5e7e4ef16ea3, timestamp=1488546814078}]
QueueChannel: postSend (sent=true) on channel 'tripQuotes', message: [Payload=siia.booking.domain.trip.Trip@7a560583][Headers={correlationId=wouldBeSetBySplitter, id=d6718d56-e803-4f01-bd22-5e7e4ef16ea3, timestamp=1488546814078}]
DirectChannel: postSend (sent=true) on channel 'legQuotes', message: [Payload=Mock for Leg, hashCode: 1112456099][Headers={sequenceNumber=2, correlationId=wouldBeSetBySplitter, id=be11a65b-829e-48d6-bcfd-88f046441057, sequenceSize=2, timestamp=1488546814074}]
QueueChannel: postReceive on channel 'tripQuotes', message: [Payload=siia.booking.domain.trip.Trip@7a560583][Headers={correlationId=wouldBeSetBySplitter, id=d6718d56-e803-4f01-bd22-5e7e4ef16ea3, timestamp=1488546814078}]
DirectChannel: preSend on channel 'tripCommands', message: [Payload=Mock for CreateTripCommand, hashCode: 691691381][Headers={id=74f2eed1-1f53-4096-82f4-5105021b8e2f, timestamp=1488546814083}]
ExpressionEvaluatingSplitter: org.springframework.integration.splitter.ExpressionEvaluatingSplitter@44040454 received message: [Payload=Mock for CreateTripCommand, hashCode: 691691381][Headers={id=74f2eed1-1f53-4096-82f4-5105021b8e2f, timestamp=1488546814083}]
ExpressionEvaluatingSplitter: handler 'org.springframework.integration.splitter.ExpressionEvaluatingSplitter@44040454' sending reply Message: [Payload=Mock for Command, hashCode: 500618423][Headers={sequenceNumber=1, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=8b8ee3b4-4ad8-4095-aadb-2e3a188072e4, sequenceSize=3, timestamp=1488546814087}]
QueueChannel: preSend on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 500618423][Headers={sequenceNumber=1, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=8b8ee3b4-4ad8-4095-aadb-2e3a188072e4, sequenceSize=3, timestamp=1488546814087}]
QueueChannel: postSend (sent=true) on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 500618423][Headers={sequenceNumber=1, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=8b8ee3b4-4ad8-4095-aadb-2e3a188072e4, sequenceSize=3, timestamp=1488546814087}]
ExpressionEvaluatingSplitter: handler 'org.springframework.integration.splitter.ExpressionEvaluatingSplitter@44040454' sending reply Message: [Payload=Mock for Command, hashCode: 1458091526][Headers={sequenceNumber=2, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=c225b428-8946-4724-91bf-5bb4fef9c9f5, sequenceSize=3, timestamp=1488546814088}]
QueueChannel: preSend on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 1458091526][Headers={sequenceNumber=2, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=c225b428-8946-4724-91bf-5bb4fef9c9f5, sequenceSize=3, timestamp=1488546814088}]
QueueChannel: postSend (sent=true) on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 1458091526][Headers={sequenceNumber=2, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=c225b428-8946-4724-91bf-5bb4fef9c9f5, sequenceSize=3, timestamp=1488546814088}]
ExpressionEvaluatingSplitter: handler 'org.springframework.integration.splitter.ExpressionEvaluatingSplitter@44040454' sending reply Message: [Payload=Mock for Command, hashCode: 768776793][Headers={sequenceNumber=3, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=81b606f0-63e1-4692-ba24-ceca2a4e8ec1, sequenceSize=3, timestamp=1488546814089}]
QueueChannel: preSend on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 768776793][Headers={sequenceNumber=3, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=81b606f0-63e1-4692-ba24-ceca2a4e8ec1, sequenceSize=3, timestamp=1488546814089}]
QueueChannel: postSend (sent=true) on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 768776793][Headers={sequenceNumber=3, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=81b606f0-63e1-4692-ba24-ceca2a4e8ec1, sequenceSize=3, timestamp=1488546814089}]
DirectChannel: postSend (sent=true) on channel 'tripCommands', message: [Payload=Mock for CreateTripCommand, hashCode: 691691381][Headers={id=74f2eed1-1f53-4096-82f4-5105021b8e2f, timestamp=1488546814083}]
QueueChannel: postReceive on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 500618423][Headers={sequenceNumber=1, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=8b8ee3b4-4ad8-4095-aadb-2e3a188072e4, sequenceSize=3, timestamp=1488546814087}]
QueueChannel: postReceive on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 1458091526][Headers={sequenceNumber=2, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=c225b428-8946-4724-91bf-5bb4fef9c9f5, sequenceSize=3, timestamp=1488546814088}]
QueueChannel: postReceive on channel 'javaLegQuoteCommands', message: [Payload=Mock for Command, hashCode: 768776793][Headers={sequenceNumber=3, correlationId=74f2eed1-1f53-4096-82f4-5105021b8e2f, id=81b606f0-63e1-4692-ba24-ceca2a4e8ec1, sequenceSize=3, timestamp=1488546814089}]
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.107 sec
Running siia.booking.integration.WeatherTest
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
DefaultConfiguringBeanFactoryPostProcessor: No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
HttpRequestExecutingMessageHandler: Unable to attempt conversion of Message payload types. Component 'org.springframework.integration.http.outbound.HttpRequestExecutingMessageHandler#0' has no explicit ConversionService reference, and there is no 'integrationConversionService' bean within the context.
EventDrivenConsumer: Adding {message-handler} as a subscriber to the 'weatherRequests' channel
DirectChannel: Channel 'weatherRequests' has 1 subscriber(s).
EventDrivenConsumer: started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 1 subscriber(s).
EventDrivenConsumer: started _org.springframework.integration.errorLogger
DirectChannel: preSend on channel 'weatherRequests', message: [Payload=4118][Headers={replyChannel=org.springframework.integration.core.MessagingTemplate$TemporaryReplyChannel@1e7aa82b, errorChannel=org.springframework.integration.core.MessagingTemplate$TemporaryReplyChannel@1e7aa82b, id=c67d4600-250e-41d6-aceb-a63a032ba1de, timestamp=1488546814201}]
HttpRequestExecutingMessageHandler: org.springframework.integration.http.outbound.HttpRequestExecutingMessageHandler#0 received message: [Payload=4118][Headers={replyChannel=org.springframework.integration.core.MessagingTemplate$TemporaryReplyChannel@1e7aa82b, errorChannel=org.springframework.integration.core.MessagingTemplate$TemporaryReplyChannel@1e7aa82b, id=c67d4600-250e-41d6-aceb-a63a032ba1de, timestamp=1488546814201}]
DefaultHttpHeaderMapper: outboundHeaderNames=[Accept, Accept-Charset, Accept-Encoding, Accept-Language, Accept-Ranges, Authorization, Cache-Control, Connection, Content-Length, Content-Type, Cookie, Date, Expect, From, Host, If-Match, If-Modified-Since, If-None-Match, If-Range, If-Unmodified-Since, Max-Forwards, Pragma, Proxy-Authorization, Range, Referer, TE, Upgrade, User-Agent, Via, Warning]
DefaultHttpHeaderMapper: headerName=[replyChannel] WILL NOT be mapped
DefaultHttpHeaderMapper: headerName=[errorChannel] WILL NOT be mapped
DefaultHttpHeaderMapper: headerName=[id] WILL NOT be mapped
DefaultHttpHeaderMapper: headerName=[timestamp] WILL NOT be mapped
RestTemplate: GET request for "http://weather.yahooapis.com/forecastrss?w=4118" resulted in 401 (Unauthorized); invoking error handler
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.518 sec <<< FAILURE!
testToronto(siia.booking.integration.WeatherTest)  Time elapsed: 0.517 sec  <<< ERROR!
org.springframework.integration.MessageHandlingException: HTTP request execution failed for URI [http://weather.yahooapis.com/forecastrss?w={location}]
	at org.springframework.integration.http.outbound.HttpRequestExecutingMessageHandler.handleRequestMessage(HttpRequestExecutingMessageHandler.java:284)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:115)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:102)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:77)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.doSendAndReceive(MessagingTemplate.java:318)
	at org.springframework.integration.core.MessagingTemplate.sendAndReceive(MessagingTemplate.java:239)
	at org.springframework.integration.core.MessagingTemplate.sendAndReceive(MessagingTemplate.java:235)
	at siia.booking.integration.WeatherTest.testToronto(WeatherTest.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.web.client.HttpClientErrorException: 401 Unauthorized
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:75)
	at org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:486)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:443)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:409)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:384)
	at org.springframework.integration.http.outbound.HttpRequestExecutingMessageHandler.handleRequestMessage(HttpRequestExecutingMessageHandler.java:258)
	... 46 more

EventDrivenConsumer: Removing {router} as a subscriber to the 'payments' channel
DirectChannel: Channel 'payments' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {router} as a subscriber to the 'credit-card-payments' channel
DirectChannel: Channel 'credit-card-payments' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
GatewayProxyFactoryBean$MethodInvocationGateway: stopped cancellationsGateway
GatewayProxyFactoryBean: stopped cancellationsGateway
EventDrivenConsumer: Removing {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 0 subscriber(s).
EventDrivenConsumer: stopped cancellationsFilter
EventDrivenConsumer: Removing {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 0 subscriber(s).
EventDrivenConsumer: stopped goldCancellationsProcessor
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
EventDrivenConsumer: Removing {chain} as a subscriber to the 'flightNotifications' channel
DirectChannel: Channel 'flightNotifications' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {outbound-channel-adapter:smsNotifier} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 1 subscriber(s).
EventDrivenConsumer: stopped smsNotifier
EventDrivenConsumer: Removing {bridge} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
EventDrivenConsumer: Removing {} as a subscriber to the 'javaLegQuoteCommands' channel
DirectChannel: Channel 'javaLegQuoteCommands' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {xml:xslt-transformer} as a subscriber to the 'xmlLegQuotes' channel
DirectChannel: Channel 'xmlLegQuotes' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Removing {xml:xpath-splitter} as a subscriber to the 'xslTransformedLegQuote' channel
DirectChannel: Channel 'xslTransformedLegQuote' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#2
EventDrivenConsumer: Removing {xml:xpath-router:quoteRequestRouter} as a subscriber to the 'splitQuotes' channel
DirectChannel: Channel 'splitQuotes' has 0 subscriber(s).
EventDrivenConsumer: stopped quoteRequestRouter
EventDrivenConsumer: Removing {filter:flightQuoteValidator} as a subscriber to the 'flightQuoteChannel' channel
DirectChannel: Channel 'flightQuoteChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped flightQuoteValidator
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
GatewayProxyFactoryBean$MethodInvocationGateway: stopped cancellationsGateway
GatewayProxyFactoryBean: stopped cancellationsGateway
EventDrivenConsumer: Removing {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 0 subscriber(s).
EventDrivenConsumer: stopped cancellationsFilter
EventDrivenConsumer: Removing {transformer} as a subscriber to the 'rejected' channel
DirectChannel: Channel 'rejected' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {transformer} as a subscriber to the 'mailTransformer' channel
DirectChannel: Channel 'mailTransformer' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Removing {message-handler:rejectionMail.adapter} as a subscriber to the 'rejectionMail' channel
DirectChannel: Channel 'rejectionMail' has 0 subscriber(s).
EventDrivenConsumer: stopped rejectionMail.adapter
EventDrivenConsumer: Removing {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 0 subscriber(s).
EventDrivenConsumer: stopped goldCancellationsProcessor
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
EventDrivenConsumer: Removing {message-handler} as a subscriber to the 'weatherRequests' channel
DirectChannel: Channel 'weatherRequests' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
EventDrivenConsumer: Removing {chain} as a subscriber to the 'flightNotifications' channel
DirectChannel: Channel 'flightNotifications' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
EventDrivenConsumer: Removing {outbound-channel-adapter:smsNotifier} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 1 subscriber(s).
EventDrivenConsumer: stopped smsNotifier
EventDrivenConsumer: Removing {bridge} as a subscriber to the 'tripNotifications' channel
PublishSubscribeChannel: Channel 'tripNotifications' has 0 subscriber(s).
EventDrivenConsumer: stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
GatewayProxyFactoryBean$MethodInvocationGateway: stopped cancellationsGateway
GatewayProxyFactoryBean: stopped cancellationsGateway
EventDrivenConsumer: Removing {filter:cancellationsFilter} as a subscriber to the 'input' channel
DirectChannel: Channel 'input' has 0 subscriber(s).
EventDrivenConsumer: stopped cancellationsFilter
EventDrivenConsumer: Removing {service-activator:goldCancellationsProcessor} as a subscriber to the 'validated' channel
DirectChannel: Channel 'validated' has 0 subscriber(s).
EventDrivenConsumer: stopped goldCancellationsProcessor
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger
EventDrivenConsumer: Removing {splitter:tripCommandSplitter} as a subscriber to the 'tripCommands' channel
DirectChannel: Channel 'tripCommands' has 0 subscriber(s).
EventDrivenConsumer: stopped tripCommandSplitter
EventDrivenConsumer: Removing {aggregator:legQuoteAggregator} as a subscriber to the 'legQuotes' channel
DirectChannel: Channel 'legQuotes' has 0 subscriber(s).
EventDrivenConsumer: stopped legQuoteAggregator
EventDrivenConsumer: Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
PublishSubscribeChannel: Channel 'errorChannel' has 0 subscriber(s).
EventDrivenConsumer: stopped _org.springframework.integration.errorLogger

Results :

Failed tests:   shouldEnrichHeaderAndSendMessageForRelatedTrips(siia.booking.integration.FlightNotificationsSpelTest): (..)
  shouldEnrichHeaderAndSendMessageForRelatedTrips(siia.booking.integration.FlightNotificationsTest): (..)

Tests in error: 
  testToronto(siia.booking.integration.WeatherTest): HTTP request execution failed for URI [http://weather.yahooapis.com/forecastrss?w={location}]

Tests run: 20, Failures: 2, Errors: 1, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] flight-booking ..................................... SUCCESS [  0.052 s]
[INFO] domain ............................................. SUCCESS [  1.331 s]
[INFO] integration ........................................ FAILURE [  2.469 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.956 s
[INFO] Finished at: 2017-03-03T10:13:34-03:00
[INFO] Final Memory: 12M/216M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project integration: There are test failures.
[ERROR] 
[ERROR] Please refer to /home/guilherme/spring-projects/maven/Spring-Integration-in-Action/siia-examples/flight-booking/integration/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :integration
